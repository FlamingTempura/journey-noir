{"version":3,"file":"bundle.js","sources":["src/utils.js","src/cards.js","src/game.js","src/main.js"],"sourcesContent":["export const $ = (selector, $root = document) => $root.querySelector(selector);\n\nexport const $$ = (selector, $root = document) => [...$root.querySelectorAll(selector)];\n\nexport const $copy = (selector, $root = document) => $('*', $root.importNode($(selector).content, true));\n\nexport const times = (n, cb) => Array(n).fill(0).map((u, i) => cb(i));\n\nexport const shuffle = (arr) => {\n    var j, x, i;\n    for (i = arr.length - 1; i > 0; i--) {\n        j = Math.floor(Math.random() * (i + 1));\n        x = arr[i];\n        arr[i] = arr[j];\n        arr[j] = x;\n    }\n    return arr;\n};\n\nexport const random = (min, max) => Math.round(min + Math.random() * (max - min));\n\nexport const wait = duration => new Promise(resolve => {\n\tsetTimeout(resolve, duration);\n});\n\nexport const last = arr => arr[arr.length - 1];\n\nexport const sum = (arr, key) => arr.reduce((memo, obj) => memo + obj[key], 0);\n\nexport const weightedPick = arr => {\n\tlet sum = 0,\n\t\tchoices = [];\n\tarr.forEach(([el, probability]) => {\n\t\tsum += probability;\n\t\tchoices.push({ min: sum - probability, max: sum, el });\n\t});\n\tlet val = Math.random() * sum;\n\tconsole.log(val, choices);\n\treturn choices.find(({ min, max }) => val >= min && val < max).el;\n};\n\nexport const removeEl = (arr, el) => {\n\tlet i = arr.indexOf(el);\n\tif (i > -1) {\n\t\tarr.splice(i, 1);\n\t}\n};\n\nexport const pick = arr => arr[Math.floor(Math.random() * arr.length)];\n","module.exports = [\n\t// SABOTAGE\n\t{\n\t\ttype: 'sabotage',\n\t\tname: 'Stinger',\n\t\tdescription: 'Play on an opponent’s sabotage pile to give them a puncture.',\n\t\tquote: '‘This is crazy,’ I mumbled. She threw me that look. I lugged the damn Stinger out of the trunk set it across the street. They didn’t see it coming.',\n\t\tartwork: 'sabotage-puncture.jpg',\n\t\teffect: 'puncture',\n\t\tquantity: 3\n\t},\n\t{\n\t\ttype: 'sabotage',\n\t\tname: 'Speed Limit',\n\t\tdescription: 'Play on an opponent’s sabotage pile to stop them playing journey cards higher than 15.',\n\t\tquote: 'I gave a beat cop 20 bucks to keep a look out.',\n\t\tartwork: 'sabotage-speedlimit.jpg',\n\t\teffect: 'speedlimit',\n\t\tquantity: 3\n\t},\n\t{\n\t\ttype: 'sabotage',\n\t\tname: 'Pursuit',\n\t\tdescription: 'Play on an opponent’s sabotage pile to stop them playing journey cards lower then 75.',\n\t\tquote: 'A buck here, a buck there, you make your name with the cops. I dialed 911 and hit call.',\n\t\tartwork: 'sabotage-pursuit.jpg',\n\t\teffect: 'pursuit',\n\t\tquantity: 3\n\t},\n\t{\n\t\ttype: 'sabotage',\n\t\tname: 'Detour',\n\t\tdescription: 'Discard this card and all of an opponent’s lowest distances.',\n\t\tquote: 'Detour signs litter the junkyard. Useful. I chuck one up on the road. Someone will always follow the signs.',\n\t\tartwork: 'sabotage-detour.jpg',\n\t\teffect: 'detour',\n\t\tquantity: 3\n\t},\n\n\t// REMEDIES\n\t{\n\t\ttype: 'remedy',\n\t\tname: 'Chop Shop',\n\t\tquote: 'It was a shady joint. A shadow in the doorway, glow of a cigarette. A place that won’t ask questions',\n\t\tdescription: 'Play on your sabotage pile to remedy a Stinger.',\n\t\tartwork: 'remedy-puncture.jpg',\n\t\tremedies: 'puncture',\n\t\tquantity: 3\n\t},\n\t{\n\t\ttype: 'remedy',\n\t\tname: 'Toll Gate',\n\t\tdescription: 'Play on your sabotage pile to remedy a Speed Limit.',\n\t\tquote: 'At the end of the road there’s a police stop. We call it the Toll Gate. But really your paying to not get noticed.',\n\t\tartwork: 'remedy-speedlimit.jpg',\n\t\tremedies: 'speedlimit',\n\t\tquantity: 3\n\t},\n\t{\n\t\ttype: 'remedy',\n\t\tname: 'New coat of paint',\n\t\tdescription: 'Play on your sabotage pile to end a Pursuit.',\n\t\tquote: 'The cops were onto us. But here was a broad who knew the right color for a Plymouth. Scarlet. The color of her lipstick.',\n\t\tartwork: 'remedy-pursuit.jpg',\n\t\tremedies: 'pursuit',\n\t\tquantity: 3\n\t},\n\n\t// SKILLED DRIVERS\n\t{\n\t\ttype: 'driver',\n\t\tname: 'The Mechanic', // F\n\t\tdescription: 'Play to your Journey area to protect against Stinger.',\n\t\tquote: 'Years doing jobs taught me a thing or two about mechanics. But this gal knew her way about a Plymouth. She was part of the car.',\n\t\tartwork: 'driver-mechanic.jpg',\n\t\tdistance: 10,\n\t\tremedies: 'puncture',\n\t\tprevents: 'puncture',\n\t\tquantity: 3\n\t},\n\t{\n\t\ttype: 'driver',\n\t\tname: 'The Brute', // M\n\t\tdescription: 'Play to your Journey area to protect against Pursuit.',\n\t\tquote: 'Life on the inside had taken its toll. He could barely murmur a word. But he was armed to the teeth. Nobody dared get close to us.',\n\t\tartwork: 'driver-brute.jpg',\n\t\tdistance: 30,\n\t\tremedies: 'pursuit',\n\t\tprevents: 'pursuit',\n\t\tquantity: 3\n\t},\n\t{\n\t\ttype: 'driver',\n\t\tname: 'Mayor Ducane', // F\n\t\tdescription: 'Play to your Journey area to protect against Speed Limit.',\n\t\tquote: 'The mayor’s an old friend. She swerves to avoid a crossing gal. ’Broads!’ I shouted. How was I supposed to know she had daughter. We didnt speak a word for 60 damn miles.',\n\t\tartwork: 'driver-mayor.jpg',\n\t\tdistance: 50,\n\t\tremedies: 'speedlimit',\n\t\tprevents: 'speedlimit',\n\t\tquantity: 3\n\t},\n\t{\n\t\ttype: 'driver',\n\t\tname: 'The Navigator',\n\t\tdescription: 'Play on your Journey area to protect against Detours.',\n\t\tquote: '',\n\t\tdistance: 30,\n\t\tartwork: 'driver-navigator.jpg',\n\t\tprevents: 'detour',\n\t\tquantity: 3\n\t},\n\n\t// REVIVES\n\t{\n\t\ttype: 'driver',\n\t\tname: 'Nurse',\n\t\tdescription: 'Play to your Journey pile then pick any discarded card and immediately play it.',\n\t\tquote: 'She took a drag of a cigarette and handed me a cup of brown. Tasted of ash.',\n\t\tartwork: 'driver-nurse.jpg',\n\t\tdistance: 0,\n\t\teffect: 'revive',\n\t\tquantity: 3\n\t},\n\t{\n\t\ttype: 'driver',\n\t\tname: 'Vet',\n\t\tdescription: 'Play to your Journey pile then pick any discarded card and immediately play it.',\n\t\tquote: 'He was a grisly guy with a stench of fomaldehyde. An animal doctor. Hospital wasn’t an option, so this was the next best thing.',\n\t\tartwork: 'driver-vet.jpg',\n\t\tdistance: 0,\n\t\teffect: 'revive',\n\t\tquantity: 3\n\t},\n\n\t// TURNCOATS\n\t{\n\t\ttype: 'driver',\n\t\tname: 'Turncoat Rita',\n\t\tdescription: 'Play to an opponent’s Journey pile and draw two cards.',\n\t\tquote: 'Damn you Rita. Broke my heart. I should have seen this coming. The way you talked about them.',\n\t\tartwork: 'driver-rita.png',\n\t\tdistance: 0,\n\t\teffect: 'turncoat',\n\t\tquantity: 1\n\t},\n\t{\n\t\ttype: 'driver',\n\t\tname: 'Crafty Jenkins',\n\t\tdescription: 'Play to an opponent’s Journey pile and draw two cards.',\n\t\tquote: 'I never trusted Jenkins. Had her hat in too many rings. But desperate times... I gave her the keys.',\n\t\tartwork: 'driver-jenkins.jpg',\n\t\teffect: 'turncoat',\n\t\tdistance: 20,\n\t\tquantity: 2\n\t},\n\t{\n\t\ttype: 'driver',\n\t\tname: 'Bill',\n\t\tdescription: 'Play to an opponent’s Journey pile and draw two cards.',\n\t\tquote: 'Bill was the kind of bastard you never trust. He’d sell out his own mother for a fix. Hope to never see his gnarly mug again.',\n\t\tartwork: 'driver-bill.jpg',\n\t\tdistance: 50,\n\t\teffect: 'turncoat',\n\t\tquantity: 2\n\t},\n\n\t// DRIVER\n\t{\n\t\ttype: 'driver',\n\t\tname: 'Old Smokey',\n\t\tdescription: 'Play to your Journey area to travel {{distance}} miles.',\n\t\tquote: 'The stench of cheap cigarettes. He asks if I’ve got a light. I fumble for a match. Something wasn’t right.',\n\t\tartwork: 'driver-oldsmokey.jpg',\n\t\tdistance: 5,\n\t\tquantity: 6\n\t},\n\t{\n\t\ttype: 'driver',\n\t\tname: 'Dolly',\n\t\tdescription: 'Play to your Journey area to travel {{distance}} miles.',\n\t\tquote: 'She said it was better on the outside. Dolly was feeding me a can of lies. It was for my own good. She was trying to save me.',\n\t\tartwork: 'driver-dolly.jpg',\n\t\tdistance: 10,\n\t\tquantity: 8\n\t},\n\t{\n\t\ttype: 'driver',\n\t\tname: 'Butler',\n\t\tdescription: 'Play to your Journey area to travel {{distance}} miles.',\n\t\tquote: 'We go back. Last job he took four slugs to the chest. Never been the same. A stare that crushes hope and fills you with dread.',\n\t\tartwork: 'driver-butler.jpg',\n\t\tdistance: 15,\n\t\tquantity: 10\n\t},\n\t{\n\t\ttype: 'driver',\n\t\tname: 'Cat Ducane',\n\t\tdescription: 'Play to your Journey area to travel {{distance}} miles.',\n\t\tquote: 'I run through the alley. A broad calls out ’get in.’ I did. I open my mouth to speak, but she didn’t give a damn who I am.',\n\t\tartwork: 'driver-cat.jpg',\n\t\tdistance: 30,\n\t\tquantity: 8\n\t},\n\t{\n\t\ttype: 'driver',\n\t\tname: 'Briggs',\n\t\tdescription: 'Play to your Journey area to travel {{distance}} miles.',\n\t\tquote: 'The outsider. The loner. There are only tales of Briggs, he leaves no witnesses. But he drives stick.',\n\t\tartwork: 'driver-briggs.jpg',\n\t\tdistance: 50,\n\t\tquantity: 6\n\t},\n\t{\n\t\ttype: 'driver',\n\t\tname: 'Wheelman Phelps',\n\t\tdescription: 'Play to your Journey area to travel {{distance}} miles.',\n\t\tquote: 'The thrill of the chase. We were pushing {{distance}}. I’d heard of Phelps through Ducane. A friend of Ducane is a friend of mine.',\n\t\tartwork: 'driver-wheelman.jpg',\n\t\tquantity: 2,\n\t\tdistance: 75\n\t},\n\t{\n\t\ttype: 'driver',\n\t\tname: 'Don Marloni',\n\t\tquote: 'A muffled scream in the trunk. I said nothing. The Don, the big man, he’ll rip your teeth out and wear them as cufflinks.',\n\t\tdescription: 'Play to your Journey area to travel {{distance}} miles.',\n\t\tartwork: 'driver-don.jpg',\n\t\tquantity: 2,\n\t\tdistance: 100\n\t}\n];","import CARDS from './cards';\nimport { times, shuffle, random, wait, weightedPick, removeEl, pick } from './utils';\n\nconst topCard = arr => arr[arr.length - 1] || {};\n\nconst createDeck = () => {\n\tlet deck = [],\n\t\ti = 0;\n\tCARDS.forEach((card, j) => {\n\t\ttimes(card.quantity, () => {\n\t\t\tdeck.push(Object.assign({ id: j, uid: i++ }, card));\n\t\t});\n\t});\n\tconsole.log(`Deck contains ${deck.length} cards`);\n\treturn shuffle(deck);\n};\n\n// Sort by sabotage cards first, then remedy cards, then drivers in order of distance\nconst orderCards = cards => {\n\tconsole.log('order', cards);\n\tcards.map(card => {\n\t\t\tlet index;\n\t\t\tif (card.type === 'sabotage') {\n\t\t\t\tindex = `1-${card.effect}`;\n\t\t\t} else if (card.type === 'remedy') {\n\t\t\t\tindex = `2-${card.remedies}`;\n\t\t\t} else {\n\t\t\t\tindex = `3-${String(card.distance).padStart(5, '0')}`;\n\t\t\t}\n\t\t\treturn [index, card];\n\t\t})\n\t\t.sort((a, b) => a[0] < b[0] ? -1 : 1)\n\t\t.forEach((a, i) => cards.splice(i, 1, a[1]));\n};\n\nclass Game {\n\tconstructor() {\n\t\tthis.listeners = {};\n\t}\n\ton(event, callback) {\n\t\tif (!this.listeners[event]) { this.listeners[event] = []; }\n\t\tthis.listeners[event].push(callback);\n\t}\n\toff(event, callback) {\n\t\tlet callbacks = this.listeners[event] || [];\n\t\tthis.listeners[event] = callbacks.filter(cb => cb !== callback);\n\t}\n\tasync _emit(event, ...args) {\n\t\tconsole.log(`event:${event}`, ...args);\n\t\tlet callbacks = this.listeners[event] || [];\n\t\tawait Promise.all(callbacks.map(cb => cb(...args)));\n\t}\n\tasync start() {\n\t\tthis._emit('status', 'Dealing...');\n\t\tthis.deck = createDeck();\n\t\tthis.discard = [];\n\t\tthis.turn = -3; // not yet started\n\t\tthis.players = times(2, i => {\n\t\t\treturn {\n\t\t\t\tuid: i,\n\t\t\t\tname: `Player ${i + 1}`,\n\t\t\t\ttype: i === 0 ? 'ai' : 'human',\n\t\t\t\thand: [],\n\t\t\t\tjourney: [],\n\t\t\t\tsabotage: [],\n\t\t\t\ttokens: 0\n\t\t\t};\n\t\t});\n\n\t\tawait this._emit('setup');\n\n\t\tfor (let i = 0; i < 10; i++) { // deal 10 cards to each player\n\t\t\tfor (let player of this.players) {\n\t\t\t\tawait this._moveCard(this.deck[0], this.deck, player.hand);\n\t\t\t}\n\t\t}\n\n\t\tthis.turn = -2; // redraw\n\n\t\tfor (let player of this.players) {\n\t\t\tawait this._awaitRedraw(player);\n\t\t}\n\n\t\tawait this._startRound();\n\t}\n\n\t// Get a descriptor for a pile. e.g. { pile: 'journey', player: {...} }\n\t_identifyPile(pile) { \n\t\tif (pile === this.deck) { return { pile: 'deck' }; }\n\t\tif (pile === this.discard) { return { pile: 'discard' }; }\n\t\tfor (let player of this.players) {\n\t\t\tfor (let p of ['hand', 'journey', 'sabotage']) {\n\t\t\t\tif (pile === player[p]) {\n\t\t\t\t\treturn { pile: p, player };\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconsole.log('ERROR!!', pile);\n\t}\n\n\t// Move a card from one pile to another\n\tasync _moveCard(card, from, to) {\n\t\tremoveEl(from, card);\n\t\tto.push(card);\n\t\tlet id = this._identifyPile(to);\n\t\tif (id.pile === 'hand' || id.pile === 'journey') {\n\t\t\torderCards(to);\n\t\t}\n\t\tawait this._emit('card-moved', card, this._identifyPile(from), this._identifyPile(to));\n\t}\n\n\t// Artificial thinking time\n\tasync _thinking(player, min, max) {\n\t\tthis._emit('status', 'AI is thinking....');\n\t\tplayer._thinking = true;\n\t\tawait wait(random(min, max || min));\n\t\tplayer._thinking = false;\n\t}\n\n\t// Each player is allowed to redraw 2 cards before the first round begins\n\tasync _awaitRedraw(player, redrawCount = 0) {\n\t\tthis._emit('status', 'Waiting for player to redraw a card...');\n\t\tlet redraw = async card => {\n\t\t\tthis._emit('status', 'Redrawing...');\n\t\t\tif (card) {\n\t\t\t\tif (!player.hand.includes(card)) {\n\t\t\t\t\tthrow new Error('Pick a card of your own to redraw, or click Skip Redraw');\n\t\t\t\t}\n\t\t\t\tawait this._moveCard(card, player.hand, this.discard);\n\t\t\t\tawait this._moveCard(this.deck[0], this.deck, player.hand);\n\t\t\t\tif (redrawCount < 1) {\n\t\t\t\t\tawait this._awaitRedraw(player, redrawCount + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tif (player.type === 'ai') {\n\t\t\tawait this._thinking(player, 800);\n\t\t\tif (Math.random() > 0.4) { // TODO: make this more intelligent\n\t\t\t\tawait redraw(pick(player.hand)); \n\t\t\t}\n\t\t} else {\n\t\t\tawait new Promise(resolve => {\n\t\t\t\tthis._emit('redraw', redrawCount);\n\t\t\t\tthis.resolveRedraw = async card => {\n\t\t\t\t\tdelete this.resolveRedraw;\n\t\t\t\t\tawait redraw(card);\n\t\t\t\t\tresolve();\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t}\n\n\t// Redraws a card in player's hand. If undefined, no card will be redrawed\n\tasync redraw(card) {\n\t\tif (this.resolveRedraw) {\n\t\t\tawait this.resolveRedraw(card);\n\t\t}\n\t}\n\n\tasync _startRound() {\n\t\tthis.turn = -1;\n\t\tfor (let player of this.players) {\n\t\t\tplayer.passed = false;\n\t\t\tplayer.score = 0;\n\t\t\tfor (let pile of [player.journey, player.sabotage]) {\n\t\t\t\tfor (let card of pile) {\n\t\t\t\t\tthis._moveCard(card, pile, this.discard);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tawait wait(1000);\n\t\tlet player = pick(this.players);\n\t\tthis.startPlayer = this.players.indexOf(player); // TODO: set to winner of previous round \n\t\tawait this._emit('start-round', player);\n\t\tthis._nextTurn();\n\t}\n\n\tasync _endRound() {\n\t\tlet winner = this.players.reduce((a, b) => a.score > b.score ? a : b);\n\t\twinner.tokens++;\n\t\tlet gameEnd = winner.tokens === 2;\n\t\tawait this._emit('end-round', winner, gameEnd);\n\t\tif (!gameEnd) {\n\t\t\tthis._startRound();\n\t\t}\n\t}\n\n\tasync _nextTurn() {\n\t\tthis.turn++;\n\n\t\tlet playerIndex = (this.turn + this.startPlayer) % this.players.length,\n\t\t\tplayer = this.players[playerIndex];\n\n\t\tif (this.players.every(p => p.passed)) { // if all players have passed\n\t\t\tthis._endRound();\n\t\t} else if (player.passed) {\n\t\t\tthis._nextTurn();\n\t\t} else {\n\t\t\tawait this._emit('start-turn', player, this.turn);\n\t\t\tawait this._awaitPlay(player);\n\t\t\tfor (let player of this.players) {\n\t\t\t\tplayer.score = player.journey.reduce((sum, card) => sum + card.distance, 0);\n\t\t\t}\n\t\t\tawait this._emit('end-turn', player, this.turn);\n\t\t\tconsole.log('--------------  Turn finished  --------------');\n\t\t\tthis._nextTurn();\n\t\t}\n\t}\n\n\tasync _awaitPlay(player, reviving) {\n\t\tif (reviving) {\n\t\t\tthis._emit('status', 'Waiting for player to play a card from discard pile...');\n\t\t\tthis._emit('revive', player);\n\t\t} else {\n\t\t\tthis._emit('status', 'Waiting for player to play a card from their hand...');\n\t\t}\n\t\tlet pile = reviving ? this.discard : player.hand,\n\t\t\tprospects = this._getProspects(player, pile);\n\t\tif (player.type === 'ai') {\n\t\t\tawait this._thinking(player, 1800);\n\t\t\tlet choices = prospects\n\t\t\t\t.filter(prospect => prospect.value > 0)\n\t\t\t\t.map(prospect => [prospect.card, prospect.value]);\n\t\t\tlet skipChance = 0.5 - 0.4 * Math.log10(choices.length);\n\t\t\tif (choices.length > 0 && Math.random() > skipChance) {\n\t\t\t\tawait this._playCard(player, pile, weightedPick(choices)); // TODO: AI should intelligently pass\n\t\t\t} else if (!reviving) {\n\t\t\t\tawait this._pass(player);\n\t\t\t}\n\t\t} else {\n\t\t\tawait new Promise(resolve => {\n\t\t\t\tthis.resolvePlay = async card => {\n\t\t\t\t\tif (card) {\n\t\t\t\t\t\tlet prospect = prospects.find(p => p.card === card);\n\t\t\t\t\t\tif (!prospect) {\n\t\t\t\t\t\t\tconsole.log('ignored, not player\\'s own card');\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (prospect.value < 0) {\n\t\t\t\t\t\t\tthrow new Error(prospect.reason);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tawait this._playCard(player, pile, card);\n\t\t\t\t\t} else if (!reviving) {\n\t\t\t\t\t\tawait this._pass(player);\n\t\t\t\t\t}\n\t\t\t\t\tresolve();\n\t\t\t\t\tdelete this.resolvePlay;\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t}\n\n\tasync play(card) {\n\t\tif (this.resolvePlay) {\n\t\t\tawait this.resolvePlay(card);\n\t\t}\n\t}\n\n\tasync _pass(player) {\n\t\tplayer.passed = true;\n\t\tawait this._emit('pass', player);\n\t}\n\n\tasync _playCard(player, from, card) {\n\t\tthis._emit('status', `${player.name} played ${card.name}...`);\n\t\tlet opponent = this.players.find(p => p !== player);\n\n\t\tif (card.type === 'sabotage') {\n\t\t\tif (card.effect === 'detour') {\n\t\t\t\tawait this._moveCard(card, from, this.discard);\n\t\t\t\tlet players = this.players.filter(p => !p.journey.find(j => j.prevents === 'detour'));\n\t\t\t\tlet highest = Math.max(...players.map(p => {\n\t\t\t\t\t\treturn Math.max(...p.journey.map(j => j.distance));\n\t\t\t\t\t}));\n\t\t\t\tplayers.forEach(p => {\n\t\t\t\t\tp.journey.forEach(journeyCard => {\n\t\t\t\t\t\tif (journeyCard.distance === highest) {\n\t\t\t\t\t\t\tthis._moveCard(journeyCard, p.journey, this.discard);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tawait this._moveCard(card, from, opponent.sabotage);\n\t\t\t}\n\t\t}\n\n\t\tif (card.type === 'remedy') {\n\t\t\tawait this._moveCard(card, from, this.discard);\n\t\t}\n\n\t\tif (card.type === 'driver') {\n\t\t\tif (card.effect === 'turncoat') {\n\t\t\t\tawait this._moveCard(card, from, opponent.journey);\n\t\t\t\tawait this._moveCard(this.deck[0], this.deck, player.hand);\n\t\t\t\tawait this._moveCard(this.deck[0], this.deck, player.hand);\n\t\t\t} else {\n\t\t\t\tawait this._moveCard(card, from, player.journey);\n\t\t\t}\n\t\t\tif (card.effect === 'revive') {\n\t\t\t\tawait this._awaitPlay(player, true);\n\t\t\t}\n\t\t}\n\n\t\tif (player.sabotage.length > 0 && card.remedies === topCard(player.sabotage).effect) {\n\t\t\tfor (let sabotageCard of player.sabotage) {\n\t\t\t\tthis._moveCard(sabotageCard, player.sabotage, this.discard);\n\t\t\t}\n\t\t}\n\t}\n\n\t// For each card in a players hand, rank them by best to play:\n\t// If a prospect is > 0, then it is a legal play, and higher numbers are better cards to play.\n\t// If a prospect is < 0, then it is an illegal play\n\t_getProspect(player, card) {\n\t\tlet opponent = this.players.find(p => p !== player);\n\t\tif (card.type === 'sabotage') {\n\t\t\tif (card.effect !== 'detour' && opponent.journey.find(p => p.prevents === card.effect)) {\n\t\t\t\treturn [-1, `${card.name} cannot be played because ${opponent.name} is protected`];\n\t\t\t}\n\t\t\treturn [1];\n\t\t}\n\t\tif (card.type === 'remedy') {\n\t\t\tif (topCard(player.sabotage).sabotages === card.remedies) {\n\t\t\t\treturn [1];\n\t\t\t}\n\t\t\treturn [0.2];\n\t\t}\n\t\tif (card.type === 'driver') {\n\t\t\tlet target = card.effect === 'turncoat' ? opponent : player,\n\t\t\t\tsabotage = topCard(target.sabotage);\n\n\t\t\tif (sabotage.effect === 'puncture' && card.remedies !== 'puncture') {\n\t\t\t\tconsole.log();\n\t\t\t\treturn [-1, `${card.name} (${card.distance}) cannot be played because ${target.type === 'human' ? 'you' : target.name} has a puncture`];\n\t\t\t}\n\n\t\t\tif (sabotage.effect === 'speedlimit' && card.remedies !== 'speedlimit' && card.distance > 10) {\n\t\t\t\treturn [-1, `${card.name} (${card.distance}) cannot be played because ${target.type === 'human' ? 'you' : target.name} has a speed limit`];\n\t\t\t}\n\n\t\t\tif (sabotage.effect === 'pursuit' && card.remedies !== 'pursuit' && card.distance < 75) {\n\t\t\t\treturn [-1, `${card.name} (${card.distance}) cannot be played because ${target.type === 'human' ? 'you' : target.name} has a pursuit`];\n\t\t\t}\n\t\t\treturn [1]; // TODO: higher cards are better\n\t\t}\n\t}\n\n\t_getProspects(player, cards) {\n\t\treturn cards.map(card => {\n\t\t\tlet prospect = this._getProspect(player, card);\n\t\t\treturn { card, value: prospect[0], reason: prospect[1] };\n\t\t});\n\t}\n}\n\nexport const newGame = () => new Game();\n","'use strict';\n\nimport { $, $copy, wait, last } from './utils';\nimport { newGame } from './game';\nimport CARDS from './cards';\n\nconst $deck = $('#deck');\nconst $players = $('#players');\nconst $status = $('#status');\nconst $arena = $('#arena');\n\nconst message = async str => {\n\t$status.textContent = str;\n\t$status.classList.add('message');\n\tawait wait(1600);\n\t$status.classList.remove('message');\n};\n\nconst startRenderer = game => {\n\n\tgame.on('setup', () => { // render players\n\t\t$players.innerHTML = '';\n\t\tgame.players.forEach(player => {\n\t\t\tlet $player = $copy('#tmpl-player');\n\t\t\t$player.setAttribute('id', `player${player.uid}`);\n\t\t\t$('.playername', $player).textContent = `${player.name} (${player.type})`;\n\t\t\t$('.tokens', $player).textContent = `${player.tokens} tokens`;\n\t\t\t$players.appendChild($player);\n\t\t});\n\t});\n\n\tlet resolvePickCard;\n\n\tgame.on('redraw', async redrawCount => {\n\t\tawait message(`Pick a card to redraw (${redrawCount + 1}/2)`);\n\t\t//enlargeHand();\n\t\t$('#skipredraw').style.display = 'inline-block';\n\t\tresolvePickCard = card => {\n\t\t\ttry {\n\t\t\t\tgame.redraw(card);\n\t\t\t\tresolvePickCard = null;\n\t\t\t\t//shrinkHand();\n\t\t\t\t$('#skipredraw').style.display = 'none';\n\t\t\t} catch (e) {\n\t\t\t\t$status.textContent = e.message;\n\t\t\t}\n\t\t};\n\t});\n\n\tgame.on('start-round', async startPlayer => {\n\t\tgame.players.forEach(player => {\n\t\t\t$(`#player${player.uid} .score`).textContent = `0 miles`;\n\t\t});\n\t\tawait message('Round start');\n\t\tif (startPlayer.type === 'human') {\n\t\t\tawait message('You will go first');\n\t\t} else {\n\t\t\tawait message('Opponent will go first');\n\t\t}\n\t});\n\n\tgame.on('start-turn', async (activePlayer) => {\n\t\tawait wait(400);\n\t\tgame.players.forEach(player => {\n\t\t\t$(`#player${player.uid}`).classList.toggle('active', player === activePlayer);\n\t\t});\n\t\tif (activePlayer.type === 'human') {\n\t\t\tawait message('Your turn');\n\t\t\t$('#pass').style.display = 'inline-block';\n\t\t\tresolvePickCard = async card => {\n\t\t\t\ttry {\n\t\t\t\t\tconsole.log('trying to play', card);\n\t\t\t\t\tawait game.play(card);\n\t\t\t\t\tresolvePickCard = null;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tmessage(e.message);\n\t\t\t\t}\n\t\t\t};\n\t\t} else {\n\t\t\tawait message('Opponent\\'s turn');\n\t\t}\n\t});\n\n\tgame.on('pass', async player => {\n\t\tif (player.type === 'human') {\n\t\t\tawait message('You have passed');\n\t\t} else {\n\t\t\tawait message('Opponent has passed');\n\t\t}\n\t});\n\n\tgame.on('revive', async player => {\n\t\tif (player.type === 'human') {\n\t\t\t$('#discard').classList.add('expand');\n\t\t\tsetTimeout(() => fanCards($('#discard'), game.discard), 500);\n\t\t\tawait message('Pick a card to immediately play');\n\t\t\tresolvePickCard = card => {\n\t\t\t\tif (game.play(card)) {\n\t\t\t\t\t$('#discard').classList.remove('expand');\n\t\t\t\t\tsetTimeout(() => fanCards($('#discard'), game.discard, true), 500);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t});\n\n\tgame.on('end-round', async (winner, gameEnd) => {\n\t\tgame.players.forEach(player => {\n\t\t\t$(`#player${player.uid} .tokens`).textContent = `${player.tokens} tokens`;\n\t\t\t$(`#player${player.uid}`).classList.remove('active');\n\t\t});\n\t\tawait message(`${winner.type === 'human' ? 'You' : 'Your Opponent'} won the ${gameEnd ? 'game' : 'round'}`);\n\t});\n\n\n\tlet zIndex = 140;\n\tgame.on('card-moved', async (card, from, to) => {\n\t\tlet $card = renderCard(card);\n\t\t$card.style.zIndex = zIndex++;\n\t\tif (to.pile === 'discard') {\n\t\t\tlet moveToMiddle = from.pile === 'hand';\n\t\t\tif (moveToMiddle) {\n\t\t\t\t$card.style.transform = `translate(${$arena.offsetWidth / 2 - $card.offsetWidth / 2}px, ${$arena.offsetHeight / 2 - $card.offsetHeight / 2}px) scale(3)`;\n\t\t\t\t$card.classList.remove('facedown');\n\t\t\t\tsetTimeout(() => $card.classList.add('discarding'), 1000);\n\t\t\t} else {\n\t\t\t\t$card.classList.add('discarding');\n\t\t\t}\n\t\t\twait(1800).then(() => {\n\t\t\t\tfanCards($('#discard'), game.discard, true);\n\t\t\t\t$card.classList.add('discarded');\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t$card.classList.remove('discarding');\n\t\t\t\t});\n\t\t\t});\n\t\t\tawait wait(400);\n\t\t}\n\t\t\n\t\tgame.players.forEach(player => {\n\t\t\tfanCards($(`#player${player.uid} .hand`), player.hand, false, player.type === 'ai');\n\t\t\tfanCards($(`#player${player.uid} .journey-area`), player.journey);\n\t\t\tfanCards($(`#player${player.uid} .sabotage-area`), player.sabotage, true);\n\t\t\tlet sabotaged = last(player.sabotage);\n\t\t\t$(`#player${player.uid}`).classList.toggle('sabotaged', !!sabotaged);\n\t\t\tif (sabotaged) {\n\t\t\t\t$(`#player${player.uid} .sabotage-status .icon`).src = `icons/${sabotaged.effect}.svg`;\n\t\t\t}\n\t\t});\n\t\tif (game.turn === -3) { // dealing cards\n\t\t\tawait wait(100);\n\t\t} else {\n\t\t\tawait wait(1200);\n\t\t}\n\t});\n\n\n\tgame.on('end-turn', () => {\n\t\tgame.players.forEach(player => {\n\t\t\t$(`#player${player.uid} .score`).textContent = `${player.score || 0} miles`;\n\t\t});\n\t});\n\n\tgame.on('status', msg => $status.textContent = msg);\n\n\t$('#skipredraw').addEventListener('click', () => {\n\t\tif (resolvePickCard) {\n\t\t\tresolvePickCard();\n\t\t}\n\t});\n\t$('#pass').addEventListener('click', () => {\n\t\tif (resolvePickCard) {\n\t\t\tresolvePickCard();\n\t\t}\n\t});\n\n\tconst fanCards = ($pile, cards, cascade, facedown) => { // spread cards as a fan\n\t\tlet cardWidth = $('.card').offsetWidth,\n\t\t\tcoords = getCoords($pile),\n\t\t\twidth = Math.min(cardWidth * cards.length, $pile.offsetWidth),\n\t\t\tx = coords.x + $pile.offsetWidth / 2 - width / 2,\n\t\t\toffset = width / (cards.length);\n\t\t\n\t\tif (offset < cardWidth) {\n\t\t\toffset -= (cardWidth - ($pile.offsetWidth / cards.length)) / cards.length;\n\t\t}\n\n\t\tcards.forEach((card, i) => {\n\t\t\tlet cx = x + i * offset,\n\t\t\t\tcy = coords.y;\n\t\t\tif (cascade) {\n\t\t\t\tcx = coords.x + 2 * Math.min(5, i);\n\t\t\t\tcy = coords.y + Math.min(5, i);\n\t\t\t}\n\t\t\tlet $card = renderCard(card);\n\t\t\t$card.classList.toggle('facedown', !!facedown);\n\t\t\t$card.style.transform = `translate(${cx}px, ${cy}px)`;\n\t\t});\n\t};\n\n\tconst renderCard = card => {\n\t\tlet $card = $(`#card${card.uid}`);\n\t\tif (!$card) {\n\t\t\t$card = $copy('#tmpl-card');\n\t\t\t$card.setAttribute('id', `card${card.uid}`);\n\t\t\t$('.front', $card).src = `/cards/${card.id}-sm.png`;\n\t\t\t$card.addEventListener('click', () => {\n\t\t\t\tif (resolvePickCard) {\n\t\t\t\t\tresolvePickCard(card);\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet { x, y } = getCoords($deck);\n\t\t\t$card.style.transform = `translate(${x}px, ${y}px)`;\n\t\t\t$arena.appendChild($card);\n\t\t}\n\t\treturn $card;\n\t};\n};\n\n// get position of an element relative to the arena\nconst getCoords = ($el) => {\n\tlet c1 = $arena.getBoundingClientRect(),\n\t\tc2 = $el.getBoundingClientRect();\n\treturn {\n\t\tx: c2.x - c1.x,\n\t\ty: c2.y - c1.y\n\t};\n};\n\nconst renderHelp = () => {\n\t$('#dlg-help').style.display = 'block';\n\tlet $cards = $('#all-cards');\n\tCARDS.forEach(card => {\n\t\tlet $card = renderCard(card);\n\t\t$cards.appendChild($card);\n\t});\n};\n\n$('#play').addEventListener('click', () => {\n\t$('#dlg-intro').style.display = 'none';\n\tlet game = newGame();\n\tstartRenderer(game);\n\tgame.start();\n});\n\n$('#help').addEventListener('click', () => {\n\t$('#dlg-intro').style.display = 'none';\n\trenderHelp();\n});\n\n$('#play').click();\n\nwindow.addEventListener('load', () => {\n\tlet arenaWidth = $arena.offsetWidth,\n\t\tarenaHeight = $arena.offsetHeight,\n\t\tratio1 = window.innerWidth / arenaWidth,\n\t\tratio2 = window.innerHeight / arenaHeight,\n\t\tratio = Math.min(ratio1, ratio2);\n\n\t$('#viewport').setAttribute('content', `initial-scale=${ratio}, maximum-scale=${ratio}, minimum-scale=${ratio}`);\n});"],"names":["CARDS","cards","sum"],"mappings":"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"}